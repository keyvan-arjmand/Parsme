@using Domain.Entity.Factor
@using Domain.Entity.Product
@using Domain.Enums
@using Microsoft.AspNetCore.Mvc.TagHelpers
@{
Layout = "_LayoutAdmin";
Factor factor = ViewBag.Factors;
}

@section link
{
<style>
    .select2-container--default .select2-selection--multiple .select2-selection__choice {
        background-color: #007bff !important;
        color: #fff;
    }

    .select2-selection--multiple {
        min-width: 300px;
        max-width: 300px;
        float: right;
    }

    .ck-content {
        min-height: 200px;
        height: fit-content;
    }

    .image-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .image-container img {
        max-width: 150px;
        height: auto;
    }

    .is-invalid {
        border: 2px solid red;
    }

    .text-overflow-cat-card {
        text-overflow: ellipsis;
        width: auto;
        overflow: hidden;
        text-wrap: normal;
        height: 60px;
        direction: rtl;
    }

    .select2-container--default .select2-selection--single {
        height: 40px;
    }
</style>
}

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-dark">مشخصات شفارش</h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-left">
                    <li class="breadcrumb-item">
                        <a href="@Url.Action("Index", "Admin")">خانه</a>
                    </li>
                </ol>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</div>
<section class="content">
    <div class="container-fluid">
        <div class="row">

            <!-- Profile Image -->

            <!-- /.col -->
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header p-2">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a class="nav-link " href="#SubCategory" data-toggle="tab">فاکتور شماره @factor.FactorCode</a>
                            </li>
                        </ul>
                    </div><!-- /.card-header -->
                    <div class="tab-content">
                        <form class="tab-pane p-5 active show" id="SubCategory">
                            <div class="card card-info card-outline mt-4">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <small class="h4">مشخصات ارسال</small>
                                    </h3>
                                    <!-- tools box -->
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="collapse"
                                                data-toggle="tooltip"
                                                title="Collapse">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="remove"
                                                data-toggle="tooltip"
                                                title="Remove">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </div>
                                    <!-- /. tools -->
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body" style="background-color:	rgb(220,220,220,0.4)">
                                    <input id="Id" value="@factor.Id" hidden="hidden"/>
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center ">
                                        <div class="form-group w-50 p-3">
                                            <label>نام تحویل گیرنده</label>
                                            <input id="Title" type="text" value="@factor.UserAddress.Name" class="form-control"
                                                   required="required">
                                        </div>
                                        <div class="form-group w-50 p-3">
                                            <label>شهر</label>
                                            <input id="PersianTitle" value="@factor.UserAddress.City.Name" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center">
                                        <div class="form-group w-50 p-3">
                                            <label>آدرس</label>
                                            <textarea id="Detail" class="form-control"
                                                      required="required">@factor.UserAddress.Address</textarea>
                                        </div>
                                        <div class="form-group w-50 p-3">
                                            <label>شماره تماس</label>
                                            <input id="MetaDesc" value="@factor.UserAddress.Number" type="text"
                                                   class="form-control">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center">
                                        <div class="form-group w-50 p-3">
                                            <label>کد پستی</label>
                                            <input id="MetaKeyword" value="@factor.UserAddress.PostCode" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                        <div class="form-group w-50 p-3">
                                            <label>کد ملی</label>
                                            <input id="ProductGift" value="@factor.User.NationalCode" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center">
                                        <div class="form-group w-50 p-3">
                                            <label>نام کاربر</label>
                                            <input id="ProductGift" value="@factor.User.Name @factor.User.Family" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                        <div class="form-group w-50 p-3">
                                            <label>شماره همراه</label>
                                            <input id="ProductGift" value="@factor.User.PhoneNumber" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center">
                                        <div class="form-group w-50 p-3">
                                            <label>روش ارسال</label>
                                            <input id="ProductGift" value="@factor.PostMethod.Title" type="text"
                                                   class="form-control" required="required">
                                        </div>
                                        <div class="form-group w-50 p-3">
                                            <label>توضیحات</label>
                                            <textarea id="Detail" class="form-control"
                                                      required="required">@factor.Desc</textarea>
                                        </div>
                                    </div>
                     
                                   
                                </div>
                            </div>

                            <div class="card card-info card-outline mt-4">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <small class="h4">مشخصات و وضعیت</small>
                                    </h3>
                                    <!-- tools box -->
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="collapse"
                                                data-toggle="tooltip"
                                                title="Collapse">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="remove"
                                                data-toggle="tooltip"
                                                title="Remove">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </div>
                                    <!-- /. tools -->
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body" style="background-color:	rgb(220,220,220,0.4)">
                                    <div class="d-flex justify-content-between flex-nowrap gap-3 align-items-center">
                                        <div class="form-group w-50 p-3  d-flex flex-column">
                                            <label for="exampleInputPassword1">وضعیت سفارش</label>
                                            <select id="ProductStatus" class="form-control select2"
                                                    aria-label="Default select example" required="required">
                                               
                                            </select>
                                        </div>
                                        <div class="form-group w-50 p-3" id="">
                                            <label>مبلغ تخفیف</label>
                                            <input id="DiscountAmount" value=".DiscountAmount" type="text"
                                                   class="form-control">
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="card card-info card-outline mt-4">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <small class="h4">گالری عکس</small>
                                    </h3>
                                    <!-- tools box -->
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="collapse"
                                                data-toggle="tooltip"
                                                title="Collapse">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool btn-sm"
                                                data-widget="remove"
                                                data-toggle="tooltip"
                                                title="Remove">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </div>
                                    <!-- /. tools -->
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div class="form-group w-50 p-3">
                                            <label for="exampleInputFile">تصویر کالا</label>
                                            <div class="input-group">
                                                <div class="custom-file">
                                                    <input type="file" class="custom-file-input" id="ImageUri">
                                                    <input type="text" id="Image64" hidden="hidden">
                                                    <label class="custom-file-label" for="exampleInputFile">
                                                        انتخاب
                                                        فایل
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="input-group w-50  p-1" style="justify-content: center;">
                                            <img id="ProdImage" src="/Images/ProductImage/.ImageUri"
                                                 style="object-fit: cover;text-align: center" class="imageThreeP"
                                                 width="130"/>
                                        </div>
                                    </div>

                                    <div class="p-2 mt-3"
                                         style="background-color:	rgb(220,220,220,0.4);border-radius: 10px">
                                        <div class="p-3 m-2">
                                            <div class="form-group w-100 p-3">
                                                <input type="file" id="imageInput" accept="image/*" multiple>
                                                <br><br>
                                                <div id="imageContainer" class="image-container">
                                                
                                                </div>
                                            </div>
                                        </div>

                                    </div>


                                </div>
                            </div>

                            <div>
                                <div class="card card-info card-outline mt-4">
                                    <div class="card-header">
                                        <h3 class="card-title">
                                            <small class="h5"> معرفی محصول</small>
                                        </h3>
                                        <!-- tools box -->
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool btn-sm"
                                                    data-widget="collapse"
                                                    data-toggle="tooltip"
                                                    title="Collapse">
                                                <i class="fa fa-minus"></i>
                                            </button>
                                            <button type="button" class="btn btn-tool btn-sm"
                                                    data-widget="remove"
                                                    data-toggle="tooltip"
                                                    title="Remove">
                                                <i class="fa fa-times"></i>
                                            </button>
                                        </div>
                                        <!-- /. tools -->
                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">
                                        <div class="mb-3">
                <textarea id="editor1" name="editor1" style="width: 100%">
                </textarea>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="d-flex justify-content-center flex-nowrap gap-3 align-items-center mt-3">
                                <div class="form-input w-50">
                                    <button type="button"  class="btn btn-primary w-100">
                                        ثبت
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div><!-- /.card-body -->
            </div>
        </div>
    </div>
</section>

@section script{
<script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
}